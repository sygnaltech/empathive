{
  "version": 3,
  "sources": ["../../src/page/mini-course.ts"],
  "sourcesContent": ["\n/*\n * Page | Mini-Course\n */\n\nimport { IRouteHandler } from \"@sygnal/sse\";\n \nenum Mode {\n  Stopped,\n  Playing,\n  Paused\n}\n\nexport class MiniCoursePage implements IRouteHandler {\n\n  mode: Mode = Mode.Stopped; \n\n  constructor() {\n  }\n\n  setup() {\n        \n  }\n\n  exec() {\n\n    const playButton = document.getElementById('playButton') as HTMLButtonElement | null;\n    const videoElement = document.getElementById('video') as HTMLVideoElement | null;\n    const applyButton = document.getElementById('apply') as HTMLButtonElement | null;\n\n    // Nested function within exec that has access to exec scope\n    const updateUI = () => {\n\n      switch(this.mode) {\n        case Mode.Paused:\n        case Mode.Stopped:\n          playButton!.innerText = \"Play video\";\n          break;\n        case Mode.Playing:\n          playButton!.innerText = \"Pause video\";\n          break;\n      }\n\n    }\n    \n    if (playButton && videoElement && applyButton) {\n      console.log(\"video\", videoElement);\n    \n      updateUI(); \n\n      // Play button click event listener\n      playButton.addEventListener('click', () => {\n        console.log('clicked');\n\n        switch(this.mode) {\n          case Mode.Stopped:\n          case Mode.Paused:\n            videoElement.play()\n              .then(() => {\n                console.log(\"Video started playing.\");\n                this.mode = Mode.Playing;\n                updateUI(); \n              })\n              .catch((error) => {\n                console.error(\"Error trying to play the video:\", error);\n              });\n            break;\n          case Mode.Playing:\n            videoElement.pause(); \n            this.mode = Mode.Paused;\n            updateUI(); \n            break;\n        }\n\n      });\n    \n      // Add an event listener for the timeupdate event\n      videoElement.addEventListener('timeupdate', () => {\n        const extendedVideoElement = videoElement as HTMLVideoElement & { loggedTenSeconds?: boolean };\n    \n        if (extendedVideoElement.currentTime >= 10 && !extendedVideoElement.loggedTenSeconds) {\n          console.log(\"Video has passed 10 seconds of playback.\");\n          extendedVideoElement.loggedTenSeconds = true; // Avoid logging more than once\n    \n          // Enable the button\n          applyButton.classList.remove('disabled');\n          applyButton.removeAttribute('disabled');\n        }\n      });\n    } else {\n      console.error(\"One or more elements were not found in the DOM.\");\n    }\n\n  }\n\n}\n"],
  "mappings": ";;;AAaO,MAAM,iBAAN,MAA8C;AAAA,IAInD,cAAc;AAFd,kBAAa;AAAA,IAGb;AAAA,IAEA,QAAQ;AAAA,IAER;AAAA,IAEA,OAAO;AAEL,YAAM,aAAa,SAAS,eAAe,YAAY;AACvD,YAAM,eAAe,SAAS,eAAe,OAAO;AACpD,YAAM,cAAc,SAAS,eAAe,OAAO;AAGnD,YAAM,WAAW,MAAM;AAErB,gBAAO,KAAK,MAAM;AAAA,UAChB,KAAK;AAAA,UACL,KAAK;AACH,uBAAY,YAAY;AACxB;AAAA,UACF,KAAK;AACH,uBAAY,YAAY;AACxB;AAAA,QACJ;AAAA,MAEF;AAEA,UAAI,cAAc,gBAAgB,aAAa;AAC7C,gBAAQ,IAAI,SAAS,YAAY;AAEjC,iBAAS;AAGT,mBAAW,iBAAiB,SAAS,MAAM;AACzC,kBAAQ,IAAI,SAAS;AAErB,kBAAO,KAAK,MAAM;AAAA,YAChB,KAAK;AAAA,YACL,KAAK;AACH,2BAAa,KAAK,EACf,KAAK,MAAM;AACV,wBAAQ,IAAI,wBAAwB;AACpC,qBAAK,OAAO;AACZ,yBAAS;AAAA,cACX,CAAC,EACA,MAAM,CAAC,UAAU;AAChB,wBAAQ,MAAM,mCAAmC,KAAK;AAAA,cACxD,CAAC;AACH;AAAA,YACF,KAAK;AACH,2BAAa,MAAM;AACnB,mBAAK,OAAO;AACZ,uBAAS;AACT;AAAA,UACJ;AAAA,QAEF,CAAC;AAGD,qBAAa,iBAAiB,cAAc,MAAM;AAChD,gBAAM,uBAAuB;AAE7B,cAAI,qBAAqB,eAAe,MAAM,CAAC,qBAAqB,kBAAkB;AACpF,oBAAQ,IAAI,0CAA0C;AACtD,iCAAqB,mBAAmB;AAGxC,wBAAY,UAAU,OAAO,UAAU;AACvC,wBAAY,gBAAgB,UAAU;AAAA,UACxC;AAAA,QACF,CAAC;AAAA,MACH,OAAO;AACL,gBAAQ,MAAM,iDAAiD;AAAA,MACjE;AAAA,IAEF;AAAA,EAEF;",
  "names": []
}
